# ==============================================================================
# Bitcorp ERP - Synology NAS Environment Configuration
# ==============================================================================
# 
# SETUP INSTRUCTIONS:
# 1. Copy this file to: /volume1/docker/bitcorp/.env
# 2. Update all passwords and secrets with secure values
# 3. Adjust ports if conflicts exist with other services
# 4. Update API URL with your Synology's IP or hostname
#
# SECURITY WARNINGS:
# - NEVER commit this file to Git!
# - Use strong passwords (minimum 20 characters)
# - Change all default values before deployment
# - Restrict file permissions: chmod 600 .env
#
# ==============================================================================

# ------------------------------------------------------------------------------
# POSTGRESQL DATABASE CONFIGURATION
# ------------------------------------------------------------------------------
POSTGRES_DB=bitcorp_erp
POSTGRES_USER=bitcorp
# SECURITY: Change this password!
POSTGRES_PASSWORD=bitcorp_secure_password_2024
POSTGRES_PORT=5433

# ------------------------------------------------------------------------------
# REDIS CONFIGURATION
# ------------------------------------------------------------------------------
# SECURITY: Change this password!
REDIS_PASSWORD=redis_secure_password_2024
REDIS_PORT=6379

# ------------------------------------------------------------------------------
# BACKEND API CONFIGURATION
# ------------------------------------------------------------------------------
BACKEND_PORT=8000

# JWT Secret Key - MUST be changed in production!
# Generate with: openssl rand -hex 64
SECRET_KEY=your-super-secret-key-change-in-production-min-64-chars-for-security-hs256-generated-with-openssl

# Token expiration settings
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Environment (development, staging, production)
ENVIRONMENT=production

# CORS Configuration
# NOTE: Due to JSON parsing issues on Synology, CORS is configured in backend/app/core/config.py
# Update the config.py file directly if you need to change CORS settings
CORS_ALLOW_ORIGINS=["http://localhost:3000","http://192.168.1.100:3000"]
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE","OPTIONS","PATCH"]
CORS_ALLOW_HEADERS=["*"]
CORS_ALLOW_CREDENTIALS=true

# Logging
LOG_LEVEL=INFO

# ------------------------------------------------------------------------------
# FRONTEND CONFIGURATION
# ------------------------------------------------------------------------------
FRONTEND_PORT=3000

# API URL - Update with your Synology's IP address or hostname
# Examples:
# - Local network: http://192.168.1.100:8000
# - DDNS: http://mynas.synology.me:8000
# - Domain: https://api.bitcorp.com
NEXT_PUBLIC_API_URL=http://192.168.1.100:8000

# Application name
NEXT_PUBLIC_APP_NAME=Bitcorp ERP

# Node environment
NODE_ENV=production

# Localization settings (Spanish/English support)
NEXT_PUBLIC_DEFAULT_LOCALE=es
NEXT_PUBLIC_SUPPORTED_LOCALES=es,en

# ------------------------------------------------------------------------------
# PGADMIN CONFIGURATION (OPTIONAL - DISABLE IN PRODUCTION)
# ------------------------------------------------------------------------------
PGADMIN_PORT=5050
PGADMIN_EMAIL=admin@bitcorp.com
# SECURITY: Change this password!
PGADMIN_PASSWORD=admin_secure_password_2024

# ==============================================================================
# SYNOLOGY-SPECIFIC NOTES
# ==============================================================================
#
# PORT CONFLICTS:
# If ports 3000, 8000, 5433, 6379, or 5050 are already in use by other
# Synology services, change them here:
# - FRONTEND_PORT=3001
# - BACKEND_PORT=8001
# - POSTGRES_PORT=5434
# - REDIS_PORT=6380
# - PGADMIN_PORT=5051
#
# FIREWALL CONFIGURATION:
# Open ports in Synology DSM:
# 1. Control Panel > Security > Firewall > Edit Rules
# 2. Add rules for ports above (source: trusted IPs only)
#
# REVERSE PROXY (RECOMMENDED):
# Use Synology's built-in reverse proxy for HTTPS:
# 1. Control Panel > Application Portal > Reverse Proxy
# 2. Create rule: bitcorp.yourdomain.com -> localhost:3000 (frontend)
# 3. Create rule: api.bitcorp.yourdomain.com -> localhost:8000 (backend)
# 4. Enable HTTPS via Let's Encrypt certificate
#
# RESOURCE ALLOCATION:
# Recommended minimum for Synology NAS:
# - RAM: 8GB (4GB allocated to Docker)
# - CPU: Quad-core
# - Storage: 50GB for application + data
#
# MONITORING:
# - Docker app in DSM shows container status and resource usage
# - Access logs at: /volume1/PeruFamilyDocs/BitCorp/bitcorp/backend/logs/
# - Database logs in PostgreSQL container: docker-compose logs db
#
# ==============================================================================
# PASSWORD GENERATION EXAMPLES
# ==============================================================================
#
# Generate secure passwords:
#
# 1. Using OpenSSL:
#    openssl rand -base64 32
#
# 2. Using Python:
#    python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# 3. Using /dev/urandom:
#    tr -dc A-Za-z0-9 </dev/urandom | head -c 32 ; echo ''
#
# 4. Online (use with caution):
#    https://passwordsgenerator.net/
#
# ==============================================================================
