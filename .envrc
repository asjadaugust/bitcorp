#!/usr/bin/env bash

# Use pyenv to set Python version and create virtual environment
layout python python3.11

# Add local bin to PATH for any local tools
PATH_add ./scripts

# Load environment variables for development
export ENVIRONMENT=development
export PYTHONPATH="$PWD/backend:$PYTHONPATH"

# Database settings for local development (when not using Docker)
export DATABASE_URL="postgresql://bitcorp:password@localhost:5433/bitcorp_erp"
export REDIS_URL="redis://localhost:6379/0"

# Security settings
export SECRET_KEY="your-super-secret-key-change-in-production-64-chars-min!@#$%^&*()"
export ALGORITHM="HS256"
export ACCESS_TOKEN_EXPIRE_MINUTES=30
export REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS settings
export ALLOWED_HOSTS="http://localhost:3000,http://localhost:5173"

# Development settings
export DEBUG=true

# File upload settings
export MAX_FILE_SIZE=10485760  # 10MB
export UPLOAD_DIRECTORY="uploads"

echo "üöÄ Bitcorp ERP development environment loaded!"
echo "üì¶ Python $(python --version) with virtual environment activated"
echo "üóÑÔ∏è  Database: $DATABASE_URL"
echo "üî¥ Redis: $REDIS_URL"
